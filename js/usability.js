(()=>{"use strict";var n,t,i,r="module_init",u=function(n){this.We=n,this.ki=n.iu()},o=function(){function n(n){this.We=n}return n.prototype.lu=function(n){return!!this.We.vu().filter((function(t){return n(t)})).length},n.prototype.du=function(n,t,i){t.wu||this.lu(n.ru)&&(t.xi=new n(this.We,i),t.xi.uu(),t.wu=!0)},n}(),e=function(){function n(n){this.We=n,this.ki=this.We.iu&&this.We.iu()}return n.ru=function(n){return!0},n.prototype.send=function(n,t){this.We.send(n,t||{})},n}(),c="click",f="mousedown",s="tap",h="beforeunload",a="visibilitychange",l=function(){return l=Object.assign||function(n){for(var t,i=1,r=arguments.length;i<r;i++)for(var u in t=arguments[i])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n},l.apply(this,arguments)},v=function(){function n(n){this.data=this.Us(n)}return n.prototype.getData=function(){return l({wo:this.Vs},this.data)},n}(),w=(n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),b=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.Fs="ub",t.Vs="cl",t.Bs="click",t}return w(t,n),t.prototype.Us=function(n){var t=n.ff,i=n.ua;return{sa:JSON.stringify(t),ua:i}},t}(v),O=function(){function n(n,t){this.ur=n,this.cr=t}return n.prototype.toString=function(){return"".concat(this.ur,"x").concat(this.cr)},Object.defineProperty(n.prototype,"width",{get:function(){return this.ur},S:!1,hr:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.cr},S:!1,hr:!0}),n}();!function(){function n(n,t){this.ar=n,this.lr=t}Object.defineProperty(n.prototype,"x",{get:function(){return this.ar},S:!1,hr:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.lr},S:!1,hr:!0})}();!function(n){n[n.SCRIPT=0]="SCRIPT",n[n.STYLE=1]="STYLE",n[n.HEAD=2]="HEAD",n[n.IFRAME=3]="IFRAME",n[n.OBJECT=4]="OBJECT"}(t||(t={})),function(n){n.IMG=" ",n.BR="\n"}(i||(i={}));var y,j=window.navigator.userAgent,p=function(n){return String(n).replace(/-([a-z])/g,(function(n,t){return t.toUpperCase()}))},_=function(n){var t=n||window,i=t.document;if(j.match(/WebKit/i)&&!j.match(/iPad/i)&&!j.match(/iPhone/i)){t.innerHeight||(t=window);var r=t.innerHeight,u=t.document.documentElement.scrollHeight;return t===t.top&&u<r&&(r-=15),new O(t.innerWidth,r)}var o=i.documentElement||i.body;return new O(o.clientWidth,o.clientHeight)},d=function(n,t){var i,r;return function(n,t){try{return t&&t instanceof Element&&(t.querySelectorAll,1)?t.querySelectorAll(n):document.querySelectorAll(n)}catch(n){return[]}}((i="data-".concat(n),"[".concat(i).concat(r?"=".concat(r):"","]")),t)},g=function(n,t){return t.reduce((function(t,i){var r=n[i]||n[p(i)];return r&&(t[i]=r),t}),{})},S=((y={})[f]="cl",y[s]="tap",y),T=function(n){return"string"==typeof n},A=function(n){return Array.isArray(n)};var m=function(n,t){return function(n,t,i){return Array.prototype.indexOf.call(n,t,i)}(n,t)>=0},E=function(n,t,i){var r=function(n,t,i){for(var r=n.length,u=T(n)?n.split(""):n,o=r-1;o>=0;o--)if(o in u&&t.call(i,u[o],o,n))return o;return-1}(n,t,i);return r<0?null:T(n)?n.charAt(r):n[r]},x=function(n){var t;return(t=[]).concat.apply(t,n)},C=function(n){return x(n.map((function(n){return Array.isArray(n)?C(n):[n]})))};function k(n){if(n instanceof Set){var t=[];return n.forEach((function(n){return t.push(n)})),t}return Array.prototype.slice.call(n)}var I=function(n,t){return n.reduce((function(n,i){var r=k(d(i,t));return n.concat(r.filter((function(n){return 0===d(i,n).length})))}),[])},L=function(n,t,i){return I(n,i).filter((function(n){return!m(t,n)}))},M=function(n,t){return n.map((function(n){return function(n,t){for(var i=[],r=t;r&&r!==window.document;){var u=r.dataset[p(n)];u&&i.push(u),r=r.parentNode}var o=i.reverse().join("::");return o?"".concat(n).concat("::").concat(o):null}(n,t)})).filter((function(n){return n}))},H=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),J=function(n){function t(t,i){var r=n.call(this,t)||this;return r.Wa=i,r}return H(t,n),t.prototype.uu=function(){this.ki.addListener(f,this.hf.bind(this)),this.ki.addListener(s,this.hf.bind(this))},t.prototype.hf=function(n){var t=this;if(n.type===f){var i=n.button;if(0!==i&&1!==i)return}var r=n.target,u=S[n.type]||S[c],o=this.We.vu(),e=function(n){for(var t=n;t&&!(t instanceof HTMLAnchorElement);)t=t.parentNode;return t||null}(r),s=!(!e||!e.href)&&function(n){return!~n.indexOf(window.location.host)&&!n.match(/^javascript:/i)}(e.href);o.forEach((function(n){var i=n.getSettings().Sr,o=t.Wa.af(i),e=t.Wa.lf(),c=M(o,r);if(c.length){var f=function(n,t){var i=new Set;return n.forEach((function(n){for(var r=t;r&&r!==window.document;)r.dataset[p(n)]&&i.add(r),r=r.parentNode})),k(i)}(o,r);if(!!E(f,(function(n){return!m(e,n)})))t.Wa.qe().eo(n);var h=new b({ff:c,ua:u});t.send(h,{Te:n,priority:s?1:5})}}))},t}(e),N=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),P=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.Fs="ub",t.Vs="bv",t.Bs="show",t}return N(t,n),t.prototype.Us=function(n){var t=n.ff;return{sa:JSON.stringify(t)}},t}(v);var R,V,z=function(n){return Object.keys(n).map((function(t){return n[t]}))},B=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),D=function(n){function t(t,i){var r=n.call(this,t)||this;return r.vf=!0,r.vi=null,r.wf=1e3,r.bf=10,r.Wa=i,r.Of(),r.yf&&(r.jf(r.Wa.pf()),r._f()),r}return B(t,n),t.prototype.Oo=function(){this.yf&&(this.jf(this.Wa.pf()),this.wf=1e3,this._f())},t.prototype.jf=function(n){var t=this;if(this.yf){var i=this.Wa.lf();L(n,i).forEach((function(n){return t.yf.observe(n)}))}},t.prototype.uu=function(){this.yf&&(this.ki.addListener(h,this.ju.bind(this)),this.ki.addListener(a,this.Ru.bind(this)))},t.prototype.Of=function(){"IntersectionObserver"in window&&!this.yf&&(this.yf=new IntersectionObserver(this.df.bind(this),{root:null,rootMargin:"0px",threshold:.1}))},t.prototype.Ru=function(){document.hidden?(this.gf(!0),this.vi&&(clearTimeout(this.vi),this.vi=null,this.vf=!1)):(!1===this.vf&&(this.wf=1e3,this._f()),this.vf=!0)},t.prototype.ju=function(){this.gf(!0),this.yf.disconnect()},t.prototype.df=function(n){var t=this;n.forEach((function(n){var i=n.target;if(n.isIntersecting){var r=i;t.We.vu().forEach((function(n){var i=n.getSettings().Sr,u=t.Wa.af(i),o=g(r.dataset,u);if(e=o,Object.keys(e).length){var e,c=M(Object.keys(o),r);t.Wa.Sf(i,c),t.Wa.Tf(i,r)}})),t.yf.unobserve(r)}})),this.Af()&&this.gf()},t.prototype.gf=function(n){var t=this;this.We.vu().forEach((function(i){var r=i.getSettings(),u=r.Sr,o=r.Ar,e=t.Wa.mf(u);if(!o&&(null==e?void 0:e.length)){var c=new P({ff:e});t.send(c,{Te:i,priority:n?1:5}),t.Wa.Ef(u)}}))},t.prototype._f=function(){clearTimeout(this.vi),this.vi=setTimeout(this.xf.bind(this),this.wf)},t.prototype.xf=function(){if(!1!==this.vf){var n=this.Wa.pf();this.jf(n),this.wf<8e3?this.wf+=1e3:this.wf<1e4?this.wf=1e4:this.wf<6e4?this.wf+=1e4:this.wf=6e4,this._f()}},t.prototype.Af=function(){var n=z(this.Wa.Cf());return x(n).length>=this.bf},t}(e),F=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),K=function(n){function t(t,i){var r=n.call(this,t)||this;return r.Bi={kf:{wu:!1,xi:null},If:{wu:!1,xi:null}},r.Wa=i,r}return F(t,n),t.prototype.vc=function(){var n=this.Bi,t=n.kf,i=n.If;this.du(J,t,this.Wa),this.du(D,i,this.Wa)},t.prototype.jf=function(n){var t=this.Bi.If;t.wu&&t.xi.jf(n)},t.prototype.Oo=function(){var n=this.Bi.If;n.wu&&n.xi.Oo()},t}(o),W=function(n){this.We=n},Y=function(){function n(n){this.We=n}return n.prototype.Ws=function(n,t){return this.initEvent(n,t)},n.prototype.send=function(n,t){this.We.send(n,t)},n}(),q=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),G=function(n){function t(t,i){var r=n.call(this,t)||this;return r.Wa=i,r}return q(t,n),t.prototype.initEvent=function(n,t){var i=n.getSettings().Sr,r=(null==t?void 0:t.oo)instanceof HTMLElement?this.Lf(n,t.oo):this.Wa.mf(i);return r.length?new P({ff:r}):null},t.prototype.track=function(n,t){var i=n.getSettings().Sr;this.xf(n);var r=this.initEvent(n,t);r&&(this.send(r,{Te:n,po:!0}),this.Wa.Ef(i))},t.Mf=function(n,t){return n.reduce((function(n,i){var r=g(i.dataset,t),u=M(Object.keys(r),i);return n.concat(u)}),[])},t.prototype.Lf=function(n,i){var r=n.getSettings().Sr,u=this.Wa.af(r),o=I(u,i),e=this.Wa.mf(r);return t.Mf(o,u).filter((function(n){return m(e,n)}))},t.prototype.xf=function(n){var i=this,r=n.getSettings().Sr,u=this.Wa.af(r),o=this.Wa.lf(),e=this.Wa.mf(r),c=L(u,o).filter((function(n){var t,u,o,e,c=(u=(t=n).getBoundingClientRect(),o=_(),e=function(n,i){return t.contains(document.elementFromPoint(n,i))},!(u.right<0||u.bottom<0||u.left>o.width||u.top>o.height)&&(e(u.left,u.top)||e(u.right,u.top)||e(u.right,u.bottom)||e(u.left,u.bottom)));return c&&i.Wa.Tf(r,n),c})),f=t.Mf(c,u).filter((function(n){return!m(e,n)}));this.Wa.Sf(r,f)},t}(Y),Q=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),U=function(n){function t(t,i){var r=n.call(this,t)||this;return r.Bi={If:{xi:null}},r.Wa=i,r.Bi.If.xi=new G(t,r.Wa),r}return Q(t,n),t.prototype.eo=function(n,t){return this.Bi.If.xi.track(n,t)},t.prototype.Hf=function(n){var t=this;this.We.vu().forEach((function(i){t.eo(i,n)}))},t}(W),X=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Z=function(n,t,i){if(i||2===arguments.length)for(var r,u=0,o=t.length;u<o;u++)!r&&u in t||(r||(r=Array.prototype.slice.call(t,0,u)),r[u]=t[u]);return n.concat(r||Array.prototype.slice.call(t))},$=function(n){function t(t){var i=n.call(this,t)||this;return i.attributes={},i.Er=new Set,i.Jf={},i.Nf={},i.Ma=new K(i.We,i),i.Da=new U(i.We,i),i.Ma.vc(),i}return X(t,n),t.prototype.yo=function(){return this.Ma},t.prototype.qe=function(){return this.Da},t.prototype.Cf=function(){return this.Nf},t.prototype.mf=function(n){return this.Nf[n]},t.prototype.Oo=function(){this.Ma.Oo()},t.prototype.Sf=function(n,t){this.Nf[n]=Z(Z([],A(t)?t:[t],!0),this.Nf[n],!0)},t.prototype.Ef=function(n,t){this.Nf[n]=t?this.Nf[n].filter((function(n){return!m(t,n)})):[]},t.prototype.Tf=function(n,t){this.Jf[n]||(this.Jf[n]=[]),this.Jf[n].push(t)},t.prototype.Eo=function(n){this.Jf[n]=[]},t.prototype.lf=function(){return k(new Set(C(z(this.Jf))))},t.prototype.pf=function(){var n=this,t=new Set(Z(Z([],Object.keys(this.attributes).reduce((function(t,i){var r=parseInt(i,10),u=n.attributes[r];return t.concat(u?k(u):[])}),[]),!0),k(this.Er),!0));return k(t)},t.prototype.af=function(n){var t=this.attributes[n];return k(new Set(Z(Z([],t?k(t):[],!0),k(this.Er),!0)))},t.prototype.Ka=function(n,t){var i=this;this.Nf[n]||(this.Nf[n]=[]),this.Jf[n]||(this.Jf[n]=[]),this.attributes[n]||(this.attributes[n]=new Set),t.forEach((function(t){return i.attributes[n].add(t)})),this.Ma.jf(t)},t.prototype.Ya=function(n){var t=this;n.forEach((function(n){return t.Er.add(n)}))},t}(u);R="usability",V=$,window._top100.getPubSub().publish(r,R,V)})();